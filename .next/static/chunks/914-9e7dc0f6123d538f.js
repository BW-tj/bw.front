(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[914],{7737:function(t,e,n){"use strict";n.d(e,{Z:function(){return $}});var r=n(8520),i=n.n(r),o=n(5893),s=n(7294),c=n(5617),u=n(2774),a=n(2298),l=n.n(a),d=function(t){var e=t.onClick;return(0,o.jsx)("button",{className:l().root,onClick:e,children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})},f=n(2029),h=n(6699),_=n.n(h),x=function(t){var e=t.count,n=t.onIncrease,r=t.onDecrease;return(0,o.jsxs)("div",{className:_().root,children:[(0,o.jsx)("button",{className:_().cart_controll_button,onClick:r,children:"-"}),(0,o.jsx)("div",{className:_().count_in_cart,children:e}),(0,o.jsx)("button",{className:_().cart_controll_button,onClick:n,children:"+"})]})},p=n(1664),v=n(4184),j=n.n(v),m=n(5668),w=n.n(m),b=function(t){var e=t.className,n=t.text,r=t.link;return(0,o.jsx)(p.default,{href:r,children:(0,o.jsx)("a",{className:j()(w().root,e),draggable:!1,children:n})})},g=n(5852),C=n.n(g),N=function(t){var e=t.promotionPercent,n=t.isNew;return(0,o.jsxs)("div",{className:C().root,children:[(0,o.jsx)(u.Z,{condition:n,children:(0,o.jsx)(b,{link:"/new",text:"\u041d\u043e\u0432\u0438\u043d\u043a\u0430",className:C().label_new_product})}),(0,o.jsx)(u.Z,{condition:0!==e,children:(0,o.jsx)(b,{link:"/discounts",text:"\u0410\u043a\u0446\u0438\u044f -"+e+"%",className:C().label_promotion})})]})},k=n(5301),y=n.n(k),S=function(t){var e=t.price;return(0,o.jsxs)("div",{className:y().root,children:[e.toFixed(2)," \u0441."]})},P=n(6066),A=n(8645),F=n.n(A),E=n(9484),B=n(5675),I=n(3520),T=n.n(I),q=function(t){var e=t.src;return(0,o.jsx)("div",{className:T().root,children:(0,o.jsx)(B.default,{src:e,width:"100%",height:"100%",layout:"responsive",objectFit:"contain",alt:"image"})})};function L(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){L(t,e,n[e])}))}return t}var Z=function(t){var e=t.id,n=t.images,r=void 0===n?null:n,i=t.width,c=void 0===i?0:i,u=(0,s.useRef)(null),a=(0,s.useState)(0),l=a[0],d=a[1],f=(0,s.useState)({}),h=f[0],_=f[1];return(0,s.useMemo)((function(){_({infinite:!1,autoplaySpeed:5e3,cssEase:"linear",speed:200,slidesToShow:1,slidesToScroll:1,lazyLoad:!0,arrows:!1,afterChange:function(t){return d(t)}})}),[]),(0,o.jsxs)("div",{className:F().root,style:{width:c+"px"},children:[(0,o.jsx)(p.default,{href:"/product/"+e,children:(0,o.jsx)("a",{className:F().image_link,children:(0,o.jsx)(P.Z,K({},h,{ref:function(t){return u=t},children:r&&r.map((function(t,e){return(0,o.jsx)(q,{width:c,src:"https://api.chistayaliniya.tj"+t},e)}))}))})}),(0,o.jsxs)("div",{className:F().button_group,children:[(0,o.jsx)("button",{className:j()(F().arrow_btn,0===l&&F().disabled),onClick:function(){return u.slickPrev()},children:(0,o.jsx)(E.xh,{})}),(0,o.jsx)("button",{className:j()(F().arrow_btn,r&&l===r.length-1&&F().disabled),onClick:function(){return u.slickNext()},children:(0,o.jsx)(E.ZJ,{})})]})]})},O=n(7288),W=n.n(O),z=function(t){var e=t.filled;return(0,o.jsx)("div",{className:j()(W().root,e&&W().filled),children:(0,o.jsx)(E.Ux,{size:18})})},D=n(7657),G=n.n(D),R=function(t){for(var e=t.rating,n=[],r=1;r<=5;r++)r<=e?n.push({key:r,filled:!0}):n.push({key:r,filled:!1});return(0,o.jsx)("div",{className:G().root,children:n.map((function(t){return(0,o.jsx)(z,{filled:t.filled},t.key)}))})},Y=n(619),X=n.n(Y),J=function(t){var e=t.name,n=t.isFavorite,r=t.onToggleFavorite,i=t.src;return(0,o.jsxs)("div",{className:X().root,children:[(0,o.jsx)(p.default,{href:i,children:(0,o.jsx)("a",{className:X().text,children:e})}),(0,o.jsx)("button",{className:j()(X().like_btn,n&&X().active),onClick:function(){return r(!n)},children:n?(0,o.jsx)(E.rF,{}):(0,o.jsx)(E.Ie,{})})]})},U=n(7898),V=n.n(U),H=n(6450);function M(t,e,n,r,i,o,s){try{var c=t[o](s),u=c.value}catch(a){return void n(a)}c.done?e(u):Promise.resolve(u).then(r,i)}function Q(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){M(o,r,i,s,c,"next",t)}function c(t){M(o,r,i,s,c,"throw",t)}s(void 0)}))}}var $=function(t){var e=t.id,n=void 0===e?1:e,r=t.initialFavorite,a=void 0!==r&&r,l=t.data,h=void 0===l?null:l,_=(0,s.useState)(null),p=_[0],v=_[1],j=(0,s.useState)(a),m=j[0],w=j[1],b=(0,s.useState)(0),g=b[0],C=b[1],k=(0,s.useState)(0),y=k[0],P=k[1],A=(0,s.useState)(0),F=A[0],E=A[1],B=s.useRef(null),I=(0,c.I0)(),T=(0,c.v9)((function(t){return t.cart})),q=(0,c.v9)((function(t){return t.user})),L=s.useCallback((function(t){w(t),q.isAuth?I(t?(0,H.GG)(h):(0,H.II)(h.id)):I(t?(0,H._p)(h):(0,H.zm)(h.id))}),[I,q.isAuth,h]),K=s.useCallback(Q(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:q.isAuth?I((0,f.ov)(h)):I((0,f.Xq)(h));case 1:case"end":return t.stop()}}),t)}))),[h,I,q.isAuth]),O=s.useCallback(Q(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:q.isAuth?I((0,f.EG)(h.id,g+1)):I((0,f.lJ)(h.id,g+1));case 1:case"end":return t.stop()}}),t)}))),[h.id,I,g,q.isAuth]),W=s.useCallback(Q(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:1===g?q.isAuth?I((0,f.kB)(h.id)):I((0,f.h2)(h.id)):q.isAuth?I((0,f.EG)(h.id,g-1)):I((0,f.lJ)(h.id,g-1));case 1:case"end":return t.stop()}}),t)}))),[h.id,I,g,q.isAuth]);return(0,s.useEffect)((function(){h&&(q.isAuth&&w(h.isFavorite),v({name:h.name,isNew:h.isNew,promotionPercent:h.discount,rating:h.rating,price:h.price}))}),[h,q.isAuth]),(0,s.useEffect)((function(){var t=T.find((function(t){return t.productId===n}));if(!t)return C(0);C(t.count)}),[T,n]),(0,s.useEffect)((function(){if(console.log(p),B.current)return window.innerWidth<720?P(B.current&&B.current.offsetWidth):void P(B.current&&B.current.offsetWidth-40)}),[B,p]),(0,s.useEffect)((function(){var t=function(){window.innerWidth<1200?E(150):E(300)};return t(),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),p?(0,o.jsxs)("div",{className:V().root,ref:B,children:[(0,o.jsx)(N,{isNew:p.isNew,promotionPercent:p.promotionPercent}),(0,o.jsx)(Z,{id:n,images:[h.imagePath],width:y,height:F}),(0,o.jsx)(J,{id:n,src:"product/"+n,dispatch:I,name:p.name.slice(0,30)+(p.name.length>30?"...":""),isFavorite:m,onToggleFavorite:L}),(0,o.jsx)(S,{price:p.price}),(0,o.jsx)(R,{rating:p.rating}),(0,o.jsx)(u.Z,{condition:0===g,altContent:(0,o.jsx)(x,{count:g,onIncrease:O,onDecrease:W}),children:(0,o.jsx)(d,{onClick:K,id:n,dispatch:I})})]}):(0,o.jsx)(o.Fragment,{})}},1627:function(t,e,n){"use strict";var r=n(5893),i=(n(7294),n(5793)),o=n.n(i);e.Z=function(t){var e=t.children;return(0,r.jsx)("div",{className:o().root,children:e})}},4660:function(t,e,n){"use strict";var r=n(5893),i=n(4184),o=n.n(i),s=(n(7294),n(1697)),c=n.n(s);e.Z=function(t){var e=t.children,n=t.className;return(0,r.jsx)("div",{className:c().root,children:(0,r.jsx)("div",{className:o()(c().wrap,n),children:e})})}},3798:function(t,e,n){"use strict";n.d(e,{Ip:function(){return c}});var r=n(5893),i=n(4561),o=n(7294),s=function(t){var e=t.height,n=void 0===e?11:e,o=t.width,s=void 0===o?200:o,c=t.radius,u=void 0===c?3:c,a=t.uniqueKey;return(0,r.jsx)(i.ZP,{speed:.5,width:s,height:n,backgroundColor:"#DCDCDC",foregroundColor:"#F6F6F6",uniqueKey:a,children:(0,r.jsx)("rect",{x:"0",y:"0",rx:u,ry:u,width:s,height:n})})},c=function(){return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(s,{width:"100%",height:406,radius:4,uniqueKey:"product-1"}),(0,r.jsx)(s,{width:"100%",height:406,radius:4,uniqueKey:"product-2"}),(0,r.jsx)(s,{width:"100%",height:406,radius:4,uniqueKey:"product-3"}),(0,r.jsx)(s,{width:"100%",height:406,radius:4,uniqueKey:"product-4"}),(0,r.jsx)(s,{width:"100%",height:406,radius:4,uniqueKey:"product-5"}),(0,r.jsx)(s,{width:"100%",height:406,radius:4,uniqueKey:"product-6"}),(0,r.jsx)(s,{width:"100%",height:406,radius:4,uniqueKey:"product-7"}),(0,r.jsx)(s,{width:"100%",height:406,radius:4,uniqueKey:"product-8"})]})}},2298:function(t){t.exports={root:"AddToCartButton_root__6bYU7"}},6699:function(t){t.exports={root:"CartControllButtons_root__sCIBW",cart_controll_button:"CartControllButtons_cart_controll_button__736P3",emptyBox:"CartControllButtons_emptyBox__HAKBS",disabled:"CartControllButtons_disabled__t44ti",count_in_cart:"CartControllButtons_count_in_cart__1Txq3"}},5668:function(t){t.exports={root:"Label_root__elI2N"}},5852:function(t){t.exports={root:"LabelList_root__Bzw5i",label_new_product:"LabelList_label_new_product__aEC1S",label_promotion:"LabelList_label_promotion__PRuI4"}},5301:function(t){t.exports={root:"Price_root__vDl9C"}},8645:function(t){t.exports={root:"Slider_root__oXvhk",button_group:"Slider_button_group__fe_OT",arrow_btn:"Slider_arrow_btn__7m38N",disabled:"Slider_disabled__8YG7L"}},3520:function(){},7288:function(t){t.exports={root:"Star_root__6WXkB",filled:"Star_filled__YejVg"}},7657:function(t){t.exports={root:"Stars_root__hZNYu"}},619:function(t){t.exports={root:"Title_root__5ARRw",text:"Title_text__Nl6ir",like_btn:"Title_like_btn__6Z184",active:"Title_active__yWEwC"}},7898:function(t){t.exports={root:"ProductCart_root__czV2y",fadeIn:"ProductCart_fadeIn__LFW3_"}},5793:function(t){t.exports={root:"Products_root__lgkAh"}},1697:function(t){t.exports={root:"Title_root__iQCXf",wrap:"Title_wrap__StYPt"}}}]);