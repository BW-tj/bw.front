(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(2836)}])},919:function(e,t,r){"use strict";r.d(t,{t:function(){return s}});var n=r(5893),a=r(7294),i=(r(9484),r(4184)),o=r.n(i),u=r(2814);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(c){a=!0,i=c}finally{try{n||null==u.return||u.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s=function(e){var t=e.totalPages,r=e.page,i=e.onPageChange,s=e.className,l=c(a.useState([]),2),f=l[0],p=l[1];return a.useEffect((function(){var e=[];if(t<10)for(var n=1;n<=t;n++)e.push({type:"page",value:n});else if(r<7){for(var a=1;a<=7;a++)e.push({type:"page",value:a});e.push({type:"arrowRight"}),e.push({type:"page",value:t})}else if(r>t-6){e.push({type:"page",value:1}),e.push({type:"arrowLeft"});for(var i=t-6;i<=t;i++)e.push({type:"page",value:i})}else{e.push({type:"page",value:1}),e.push({type:"arrowLeft"});for(var o=r-2;o<=r+2;o++)e.push({type:"page",value:o});e.push({type:"arrowRight"}),e.push({type:"page",value:t})}p(e)}),[r,t]),(0,n.jsx)("div",{className:o()("pagination",s),children:f.map((function(e,t){return"page"===e.type?(0,n.jsx)("div",{className:o()("pagination__item",e.value===r&&"pagination__item--active"),onClick:function(){return i(e.value)},children:e.value},t):"arrowRight"===e.type?(0,n.jsx)("div",{className:"pagination__item pagination__item--arrow",onClick:function(){return i(r+1)},children:(0,n.jsx)(u.G,{icon:"fa-solid fa-arrow-right",size:30})},t):(0,n.jsx)("div",{className:"pagination__item pagination__item--arrow",onClick:function(){return i(r-1)},children:(0,n.jsx)(u.G,{icon:"fa-solid fa-arrow-left"})},t)}))})}},2836:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return F},default:function(){return L}});var n=r(8520),a=r.n(n),i=r(5893),o=r(9008),u=r(7294),c=r(4184),s=r.n(c),l=r(6066),f=r(5675),p=r(1664),h=r(9484),d=r(6651),v=r.n(d);function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){_(e,t,r[t])}))}return e}var y=function(e){var t=e.src,r=e.href,n=e.onClick;return(0,i.jsx)(p.default,{href:r,children:(0,i.jsx)("a",{onClick:n,target:"_blank",referrerPolicy:"no-referrer",children:(0,i.jsx)(f.default,{src:t,alt:"image1",width:2880,height:700})})})},m=function(e){var t=e.onClick;return(0,i.jsx)("button",{onClick:t,className:s()(v().arrow_button,v().arrow_button_prev),children:(0,i.jsx)(h.xh,{})})},b=function(e){var t=e.onClick;return(0,i.jsx)("button",{onClick:t,className:s()(v().arrow_button,v().arrow_button_next),children:(0,i.jsx)(h.ZJ,{})})},w=function(e){var t=e.banners,r=e.className,n=(0,u.useState)([]),a=n[0],o=n[1],c=(0,u.useState)(!1),f=c[0],p=c[1],h=(0,u.useCallback)((function(){p(!0)}),[p]),d=(0,u.useCallback)((function(){p(!1)}),[p]),_=(0,u.useCallback)((function(e){f&&e.preventDefault()}),[f]);(0,u.useEffect)((function(){return o(t.map((function(e){return{id:e.id,src:"https://api.chistayaliniya.tj"+e.imagePath,href:e.href,alt:e.name}}))),function(){return o([])}}),[t]);var w=(0,u.useRef)(null);return(0,i.jsxs)("div",{className:s()(v().root,r),children:[a.length>1&&(0,i.jsx)(m,{onClick:function(){return w.slickPrev()}}),(0,i.jsx)(l.Z,g({beforeChange:h,afterChange:d},{dots:!0,infinite:!0,autoplay:!0,autoplaySpeed:3e3,cssEase:"linear",speed:300,slidesToShow:1,slidesToScroll:1,initialSlide:2,arrows:!1,pauseOnHover:!0},{ref:function(e){return w=e},children:a.map((function(e){var t=e.id,r=e.src,n=e.alt,a=e.href;return(0,i.jsx)(y,{src:r,href:a,alt:n,onClick:_},t)}))})),a.length>1&&(0,i.jsx)(b,{onClick:function(){return w.slickNext()}})]})},j=r(7737),x=r(1627),P=r(919),k=r(5168),S=r(19),C=r.n(S),N=r(3798),O=r(5617),E=r(6079),A=r(2121),T=r.n(A),I=r(4660);function B(e,t,r,n,a,i,o){try{var u=e[i](o),c=u.value}catch(s){return void r(s)}u.done?t(c):Promise.resolve(c).then(n,a)}function Z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Z(e,t,r[t])}))}return e}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(c){a=!0,i=c}finally{try{n||null==u.return||u.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var R=function(){var e=(0,O.I0)(),t=H(u.useState([]),2),r=t[0],n=t[1];return u.useEffect((function(){var t;return(t=a().mark((function t(){var r,i,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={method:"GET"},t.next=4,fetch("https://api.chistayaliniya.tj/api/categories/populars",r);case 4:return 401!==(i=t.sent).status&&403!==i.status||(localStorage.removeItem("bw-client-token"),window.location.href="/",e((0,E.k)())),t.next=8,i.json();case 8:o=t.sent,n(o.map((function(e){return G({},e,{imagePath:"https://api.chistayaliniya.tj"+e.imagePath})})));case 10:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,a){var i=t.apply(e,r);function o(e){B(i,n,a,o,u,"next",e)}function u(e){B(i,n,a,o,u,"throw",e)}o(void 0)}))})(),function(){n([])}}),[e]),(0,i.jsxs)("div",{className:T().root,children:[(0,i.jsx)(I.Z,{className:T().title,children:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}),(0,i.jsx)("div",{className:T().categories,children:r.map((function(e){return(0,i.jsx)(p.default,{href:"/category/"+e.id,children:(0,i.jsxs)("a",{className:T().category,children:[(0,i.jsx)("div",{className:T().category__img,children:(0,i.jsx)(f.default,{width:130,height:130,src:e.imagePath,alt:e.name})}),(0,i.jsx)("div",{className:T().category__name,children:e.name})]})},e.id)}))})]})},D=r(1742);function W(e,t,r,n,a,i,o){try{var u=e[i](o),c=u.value}catch(s){return void r(s)}u.done?t(c):Promise.resolve(c).then(n,a)}function z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){z(e,t,r[t])}))}return e}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(c){a=!0,i=c}finally{try{n||null==u.return||u.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var F=!0,L=function(e){var t=e.categories,r=(e.brands,e.banners),n=q(u.useState(null),2),c=n[0],s=n[1],l=q(u.useState(!0),2),f=l[0],p=l[1],h=q(u.useState(1),2),d=h[0],v=h[1],_=(0,O.v9)((function(e){return e.favorites})),g=(0,O.v9)((function(e){return e.user})),y=(0,u.useState)(0),m=y[0],b=y[1];return u.useEffect((function(){var e;b(window.innerWidth),(e=a().mark((function e(){var t,r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),t={method:"GET"},g.isAuth&&(t=J({},t,{headers:{Authorization:"Bearer "+localStorage.getItem("bw-client-token")}})),e.next=6,fetch("https://api.chistayaliniya.tj/api/product/getproductbyhide?&pageSize=20&pageNumber="+d,t);case 6:return 401!==(r=e.sent).status&&403!==r.status||(localStorage.removeItem("bw-client-token"),window.location.href="/",dispatch((0,E.k)())),e.next=10,r.json();case 10:n=e.sent,s(n);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,,12,15]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){W(i,n,a,o,u,"next",e)}function u(e){W(i,n,a,o,u,"throw",e)}o(void 0)}))})()}),[d,g.isAuth]),(0,i.jsxs)(k.Z,{categories:t,children:[(0,i.jsxs)(o.default,{children:[(0,i.jsx)("title",{children:"\u0427\u0438\u0441\u0442\u0430\u044f \u043b\u0438\u043d\u0438\u044f"}),(0,i.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,i.jsxs)("div",{className:C().root,children:[(0,i.jsx)(w,{className:C().banner_slider,banners:r}),m<600&&(0,i.jsx)(D.u,{}),(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)(R,{}),(0,i.jsx)(x.Z,{children:f?(0,i.jsx)(N.Ip,{}):c.data&&c.data.map((function(e){var t=!1;return g.isAuth?t=e.isFavorite:_.forEach((function(r){r.id===e.id&&(t=!0)})),(0,i.jsx)(j.Z,{id:e.id,data:e,initialFavorite:t},e.id)}))}),(0,i.jsx)(P.t,{page:d||1,totalPages:(null===c||void 0===c?void 0:c.totalPages)||1,onPageChange:function(e){return v(e)}})]})]})]})}},6651:function(e){e.exports={root:"BannerSlider_root__3Bivt",arrow_button:"BannerSlider_arrow_button__9WeNq",arrow_button_prev:"BannerSlider_arrow_button_prev__t9sj8",arrow_button_next:"BannerSlider_arrow_button_next__VGKNW"}},2121:function(e){e.exports={root:"PopularCategories_root__lV6ud",title:"PopularCategories_title__sM92u",categories:"PopularCategories_categories__0tJCp",category:"PopularCategories_category__na7Je",category__img:"PopularCategories_category__img__Rfx4Z",category__name:"PopularCategories_category__name__4QPBu"}},19:function(e){e.exports={root:"Home_root__hAmhe",banner_slider:"Home_banner_slider__xWeOa",brand_slider:"Home_brand_slider__kuaUC",title:"Home_title__q0Qg4"}}},function(e){e.O(0,[92,841,168,914,774,888,179],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);