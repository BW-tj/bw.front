(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[951],{7229:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/discounts",function(){return r(7859)}])},7859:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return b}});var n=r(8520),i=r.n(n),a=r(5893),o=r(9008),l=r(5168),c=r(7294),s=r(1627),u=r(4660),f=r(5422),d=r.n(f),p=r(3798),h=r(7737),m=r(5617),v=r(6079);function y(e,t,r,n,i,a,o){try{var l=e[a](o),c=l.value}catch(s){return void r(s)}l.done?t(c):Promise.resolve(c).then(n,i)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(c){i=!0,a=c}finally{try{n||null==l.return||l.return()}finally{if(i)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var b=!0;t.default=function(e){var t=e.categories,r=g(c.useState(null),2),n=r[0],f=r[1],b=g(c.useState(!1),2),w=b[0],x=b[1],E=(0,m.v9)((function(e){return e.favorites})),O=(0,m.v9)((function(e){return e.user}));return c.useEffect((function(){var e;(e=i().mark((function e(){var t,r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(!0),t={},O.isAuth&&(t={headers:{Authorization:"Bearer "+localStorage.getItem("bw-client-token")}}),e.next=6,fetch("https://api.chistayaliniya.tj/api/product/filtration?tag=1",t);case 6:return 401!==(r=e.sent).status&&403!==r.status||(localStorage.removeItem("bw-client-token"),window.location.href="/",dispatch((0,v.k)())),e.next=10,r.json();case 10:n=e.sent,f(n);case 12:return e.prev=12,setTimeout((function(){x(!1)}),200),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,,12,15]])})),function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){y(a,n,i,o,l,"next",e)}function l(e){y(a,n,i,o,l,"throw",e)}o(void 0)}))})()}),[O.isAuth]),(0,a.jsxs)(l.Z,{categories:t,children:[(0,a.jsxs)(o.default,{children:[(0,a.jsx)("title",{children:"\u0421\u043a\u0438\u0434\u043a\u0438 \u0432 \u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u0441\u0442\u0438\u0440\u043a\u0435"}),(0,a.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,a.jsxs)("div",{className:d().root,children:[(0,a.jsx)(u.Z,{className:d().title,children:"\u0421\u043a\u0438\u0434\u043a\u0438"}),(0,a.jsx)("div",{className:"container",children:(0,a.jsx)(s.Z,{children:w?(0,a.jsx)(p.Ip,{}):n&&n.data.map((function(e){var t=!1;return O.isAuth?t=e.isFavorite:E.forEach((function(r){r.id===e.id&&(t=!0)})),(0,a.jsx)(h.Z,{id:e.id,data:e,initialFavorite:t},e.id)}))})})]})]})}},5422:function(e){e.exports={title:"Discounts_title__mOogs"}},4561:function(e,t,r){"use strict";var n=r(7294),i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};var a=function(e){var t=e.animate,r=e.backgroundColor,a=e.backgroundOpacity,o=e.baseUrl,l=e.children,c=e.foregroundColor,s=e.foregroundOpacity,u=e.gradientRatio,f=e.gradientDirection,d=e.uniqueKey,p=e.interval,h=e.rtl,m=e.speed,v=e.style,y=e.title,g=e.beforeMask,b=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(e,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","gradientDirection","uniqueKey","interval","rtl","speed","style","title","beforeMask"]),w=d||Math.random().toString(36).substring(6),x=w+"-diff",E=w+"-animated-diff",O=w+"-aria",k=h?{transform:"scaleX(-1)"}:null,j="0; "+p+"; 1",_=m+"s",C="top-bottom"===f?"rotate(90)":void 0;return(0,n.createElement)("svg",i({"aria-labelledby":O,role:"img",style:i(i({},v),k)},b),y?(0,n.createElement)("title",{id:O},y):null,g&&(0,n.isValidElement)(g)?g:null,(0,n.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+o+"#"+x+")",style:{fill:"url("+o+"#"+E+")"}}),(0,n.createElement)("defs",null,(0,n.createElement)("clipPath",{id:x},l),(0,n.createElement)("linearGradient",{id:E,gradientTransform:C},(0,n.createElement)("stop",{offset:"0%",stopColor:r,stopOpacity:a},t&&(0,n.createElement)("animate",{attributeName:"offset",values:-u+"; "+-u+"; 1",keyTimes:j,dur:_,repeatCount:"indefinite"})),(0,n.createElement)("stop",{offset:"50%",stopColor:c,stopOpacity:s},t&&(0,n.createElement)("animate",{attributeName:"offset",values:-u/2+"; "+-u/2+"; "+(1+u/2),keyTimes:j,dur:_,repeatCount:"indefinite"})),(0,n.createElement)("stop",{offset:"100%",stopColor:r,stopOpacity:a},t&&(0,n.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+u),keyTimes:j,dur:_,repeatCount:"indefinite"})))))};a.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,gradientDirection:"left-right",id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading...",beforeMask:null};var o=function(e){return e.children?(0,n.createElement)(a,i({},e)):(0,n.createElement)(l,i({},e))},l=function(e){return(0,n.createElement)(o,i({viewBox:"0 0 476 124"},e),(0,n.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,n.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,n.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,n.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,n.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,n.createElement)("circle",{cx:"20",cy:"20",r:"20"}))};t.ZP=o}},function(e){e.O(0,[92,168,914,774,888,179],(function(){return t=7229,e(e.s=t);var t}));var t=e.O();_N_E=t}]);